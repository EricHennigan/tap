scriptencoding utf-8
" ^^ Please leave the above line at the start of the file.
set nocompatible          " Use Vim defaults (much better!)

call pathogen#infect()
syntax on
filetype plugin indent on " enable indentation

let mapleader = "\t"
let g:mapleader = "\t"

map qq :q!<CR>

set grepprg=grep\ -nH\ $* " make grep always report filename
set bs=2                " Allow backspacing over everything in insert mode
set ai                  " Always set auto-indenting on
set history=1000        " keep 1000 lines of command history
set ruler               " Show the cursor position all the time

"set tabstop=2
set softtabstop=2
set shiftwidth=2
set expandtab
set ignorecase
set nohlsearch
set number
set paste

"appearance
set background=dark
if &diff
  let g:solarized_diffmode="high"
  colorscheme solarized
endif

" customize showing of special characters
set listchars=tab:┊\ ,trail:$
set fillchars=fold:-,vert:│

" Customize layout colors
set cursorline
highlight CursorLine cterm=none
highlight LineNr cterm=none ctermfg=darkred
highlight CursorLineNr cterm=bold ctermfg=red
highlight VertSplit cterm=none ctermbg=black ctermfg=darkred
highlight StatusLine cterm=bold ctermbg=black ctermfg=yellow
highlight StatusLineNC cterm=none ctermbg=black ctermfg=darkblue
highlight SignColumn cterm=bold ctermbg=none ctermfg=red
highlight Pmenu ctermbg=black ctermfg=darkgreen
highlight PmenuSel cterm=reverse ctermbg=none ctermfg=green
highlight SpellBad cterm=none ctermbg=black
highlight SpellCap cterm=reverse
au FileType proto highlight clear SpellCap

" Customize StatusLine
set laststatus=2
set noshowmode
highlight User1 ctermbg=black ctermfg=green
set statusline=
set statusline+=%1*\ %n\             " Buffer number
set statusline+=%1*\ %Y\             " FileType
set statusline+=%1*│                 " Separator
set statusline+=%0*\ %f%m%r%h%w\   " File path, modified, readonly, helpfile, preview
"set statusline+=%0*\ %<%F%m%r%h%w\   " File path, modified, readonly, helpfile, preview
set statusline+=%=                   " Right Side
set statusline+=%1*│                 " Separator
set statusline+=%1*\ %c,             " cursor column
set statusline+=%1*%l/%L             " cursor line/total lines
set statusline+=%1*\ %P              " percent through file

" use spell checking
set spell
highlight SpellBad ctermbg=0

" use tab completion
" set wildmode=list
" set wildmenu

" latex
filetype plugin on
let g:tex_flavor='latex'

" MiniBuffer https://github.com/fholgado/minibufexpl.vim
let g:miniBufExplMapWindowNavVim = 1 
let g:miniBufExplMapWindowNavArrows = 1 
let g:miniBufExplMapCTabSwitchBufs = 1 
let g:miniBufExplModSelTarget = 1 

" Annoying Whitespace
:highlight ExtraWhitespace ctermbg=blue
:match ExtraWhitespace /\s\+$/           "trailing whitespace
:match ExtraWhitespace /\s\+$\| \+\ze\t/ "trailing whitespace and spaces before a tab
:match ExtraWhitespace /[^\t]\zs\t\+/    "tabs that are not at the start of a line
":match ExtraWhitespace /^\t*\zs \+/      "spaces used for indenting (only tabs for indenting).

" highlight columns past 80 chars
set colorcolumn=81,101
highlight ColorColumn ctermbg=0

" NerdTree
map <leader>n :NERDTreeToggle<CR><CR>
let g:NERDTreeWinPos = "right"

" Glug
source /usr/share/vim/google/glug/bootstrap.vim
Glug gtimporter
Glug youcompleteme-google
nnoremap <leader>g :YcmCompleter GoToImprecise<CR>
nnoremap <leader>c :YcmCompleter GoToDeclaration<CR>
nnoremap <leader>t :YcmCompleter GetType<CR>
nnoremap <leader>r :YcmCompleter GoToReferences<CR>

" set backup location
set backupdir=~/tmp/vim//
set directory=~/tmp/vim//
set undodir=~/tmp/vim//
